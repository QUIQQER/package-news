{if $this->getAttribute('content')}
<div class="control-news-list-content">
    {$this->getAttribute('content')}
</div>
{/if}

<div class="control-news-list-title-wrapper">
    <h3 class="control-news-list-title">Letzte News</h3>
</div>

{foreach from=$children item=Child}

<div class="control-news-list">
    <a href="{url site=$Child}" class="mainFontColor">

    <!-- entry image -->
    {if $this->getAttribute('news.showImages')}
    <div class="control-news-list-image">
        {assign var=noImageClass value=" qui-control-list-entry-short-noImage"}
        {assign var=noShortClass value=" qui-control-list-entry-image-noShort"}

        {if $this->getAttribute('showImages')}
        {assign var=noImageClass value=""}
        {/if}

        {if $this->getAttribute('showShort')}
        {assign var=noShortClass value=""}
        {/if}

        {if $Child->getAttribute('image_site')}
        {image src=$Child->getAttribute('image_site')
        style="height: auto;"
        maxwidth="380"}
        {else}
        <img src="{$Child->getProject()->getMedia()->getPlaceholder()}" style="height: auto;" />
        {/if}
    </div>
    {/if}

    <header>
        <h4>
                {$Child->getAttribute('title')}

        </h4>
    </header>

    {if $this->getAttribute('news.showShort')}
    <div class="control-news-list-short">
        {$Child->getAttribute('short')}
    </div>
    {/if}

    {if $this->getAttribute('news.showCreator') ||
    $this->getAttribute('news.showDate') ||
    $this->getAttribute('news.showTime')}
    <div class="control-news-list-time">

        {if $this->getAttribute('news.showCreator')}
        <div class="control-news-list-time-wrapper">
            <span class="qui-control-list-entry-date-author control-news-list-span">
                {user id=$Child->getAttribute('c_user') var=User}
                <span class="fa fa-user news-list-time-icon"></span>
                {if $User->getId() && $User->getAttribute('firstname')}
                    {$User->getAttribute('firstname')}
                {else if $User->getId()}
                    {$User->getname()}
                {/if}
            </span>
        </div>
        {/if}

        {if $this->getAttribute('news.showDate') || $this->getAttribute('news.showTime')}
        <div class="control-news-list-time-wrapper">
            {if $Child->getAttribute('release_from') &&
            $Child->getAttribute('release_from') != '0000-00-00 00:00:00'}
            <time datetime="{$Child->getAttribute('release_from')|date_format:"c"}"
                itemprop="datePublished"
                >
                {if $this->getAttribute('news.showDate')}
                <span class="control-news-list-span">
                    <span class="fa fa-calendar news-list-time-icon"></span>
                    {*locale_date date=$Child->getAttribute('release_from')|date_format:"%d/%m/%Y - %H:%M:%S"*}
                    {*$Child->getAttribute('release_from')|date_format:$this->getAttribute('dateFormat')*}
                    {$Child->getAttribute('release_from')|date_format:"%d/%m/%Y"}
                </span>
                {/if}
                {if $this->getAttribute('news.showTime')}
                <span class="control-news-list-span">
                    <span class="fa fa-clock-o news-list-time-icon"></span>
                    {$Child->getAttribute('release_from')|date_format:"%H:%M"}
                </span>
                {/if}
            </time>
            {else}
            <time datetime="{$Child->getAttribute('c_date')|date_format:"c"}"
                itemprop="datePublished"
                >
                <span class="fa fa-calendar news-list-time-icon"></span>
                {locale_date date=$Child->getAttribute('c_date')}
            </time>

            {/if}
        </div>
        {/if}

    </div>
    {/if}
    </a>
</div>

{/foreach}